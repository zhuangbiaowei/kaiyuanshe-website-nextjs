# npm run dev é”™è¯¯ä¿®å¤æŒ‡å—

## ğŸš¨ é—®é¢˜è¯Šæ–­

æ ¹æ®åˆ†æï¼Œ`npm run dev` æŠ¥é”™çš„ä¸»è¦åŸå› æ˜¯ **node_modules ç›®å½•ä¸å­˜åœ¨**ã€‚

### âœ… å½“å‰é¡¹ç›®çŠ¶æ€
- âœ… `package.json` é…ç½®æ­£ç¡®
- âœ… `next.config.mjs` é…ç½®æ­£ç¡®  
- âœ… `package-lock.json` å­˜åœ¨
- âŒ `node_modules` ç›®å½•ç¼ºå¤±

## ğŸ”§ è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1: å®‰è£…ä¾èµ–ï¼ˆæ¨èï¼‰
```bash
# æ¸…ç†npmç¼“å­˜
npm cache clean --force

# å®‰è£…æ‰€æœ‰ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

### æ–¹æ¡ˆ 2: å®Œå…¨é‡æ–°å®‰è£…
```bash
# åˆ é™¤é”æ–‡ä»¶ï¼ˆå¦‚æœéœ€è¦ï¼‰
rm -f package-lock.json

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨  
npm run dev
```

### æ–¹æ¡ˆ 3: ä½¿ç”¨yarnï¼ˆå¤‡é€‰ï¼‰
```bash
# å®‰è£…yarn
npm install -g yarn

# ä½¿ç”¨yarnå®‰è£…ä¾èµ–
yarn install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
yarn dev
```

## ğŸ“‹ é¡¹ç›®ä¾èµ–æ¦‚è§ˆ

### æ ¸å¿ƒä¾èµ–
- **Next.js**: 15.2.4 (Reactæ¡†æ¶)
- **React**: ^19 (UIåº“)
- **TypeScript**: ^5 (ç±»å‹ç³»ç»Ÿ)
- **Tailwind CSS**: ^3.4.17 (æ ·å¼æ¡†æ¶)

### UIç»„ä»¶åº“
- **Radix UI**: å®Œæ•´çš„æ— éšœç¢ç»„ä»¶é›†åˆ
- **Lucide React**: å›¾æ ‡åº“
- **Shadcn/ui**: ç°ä»£UIç»„ä»¶

### ç‰¹è‰²åŠŸèƒ½ä¾èµ–
- **Leaflet**: åœ°å›¾å¯è§†åŒ–
- **MDX**: Markdownæ”¯æŒ
- **Zustand**: çŠ¶æ€ç®¡ç†
- **React Hook Form**: è¡¨å•å¤„ç†

## ğŸš€ å¯åŠ¨æ­¥éª¤

1. **å®‰è£…ä¾èµ–**
   ```bash
   npm install
   ```

2. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
   ```bash
   npm run dev
   ```

3. **è®¿é—®åº”ç”¨**
   ```
   http://localhost:3000
   ```

## ğŸ” å¸¸è§é”™è¯¯è§£å†³

### é”™è¯¯: "Cannot find module 'next'"
**åŸå› **: node_modules æœªå®‰è£…
**è§£å†³**: `npm install`

### é”™è¯¯: "Port 3000 is already in use"
**åŸå› **: ç«¯å£è¢«å ç”¨
**è§£å†³**: 
```bash
# æŸ¥æ‰¾å ç”¨è¿›ç¨‹
lsof -ti:3000

# æ€æ­»å ç”¨è¿›ç¨‹
lsof -ti:3000 | xargs kill -9

# æˆ–ä½¿ç”¨å…¶ä»–ç«¯å£
npm run dev -- -p 3001
```

### é”™è¯¯: "ENOSPC: System limit for number of file watchers reached"
**åŸå› **: æ–‡ä»¶ç›‘å¬æ•°é‡è¶…é™
**è§£å†³**:
```bash
echo fs.inotify.max_user_watches=524288 | sudo tee -a /etc/sysctl.conf
sudo sysctl -p
```

### é”™è¯¯: TypeScript ç±»å‹é”™è¯¯
**åŸå› **: ç±»å‹å®šä¹‰é—®é¢˜
**è§£å†³**: 
```bash
# å®‰è£…ç±»å‹å®šä¹‰
npm install @types/node @types/react @types/react-dom

# é‡å¯TypeScriptæœåŠ¡å™¨
npx tsc --noEmit
```

## ğŸ“Š é¡¹ç›®æ¶æ„

```
kaiyuanshe-website-nextjs/
â”œâ”€â”€ app/                    # Next.js 13+ App Router
â”‚   â”œâ”€â”€ page.tsx           # é¦–é¡µ
â”‚   â”œâ”€â”€ about/             # å…³äºæˆ‘ä»¬
â”‚   â”œâ”€â”€ blog/              # åšå®¢ç³»ç»Ÿ
â”‚   â”œâ”€â”€ products/          # äº§å“å±•ç¤º
â”‚   â””â”€â”€ ranking/           # äººç‰©æ¦œå•
â”œâ”€â”€ components/            # å¯å¤ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ ui/               # UIåŸºç¡€ç»„ä»¶
â”‚   â””â”€â”€ sections/         # é¡µé¢åŒºå—ç»„ä»¶
â”œâ”€â”€ src/                  # æ•°æ®å’Œå·¥å…·
â”‚   â”œâ”€â”€ data/            # JSONæ•°æ®æ–‡ä»¶
â”‚   â”œâ”€â”€ lib/             # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ types/           # ç±»å‹å®šä¹‰
â””â”€â”€ public/              # é™æ€èµ„æº
```

## ğŸ¯ å¼€å‘ç¯å¢ƒè¦æ±‚

- **Node.js**: v22.16.0+ 
- **npm**: æœ€æ–°ç‰ˆæœ¬
- **æ“ä½œç³»ç»Ÿ**: Ubuntu 22.04.4+
- **å†…å­˜**: å»ºè®® 2GB+
- **ç£ç›˜ç©ºé—´**: å»ºè®® 1GB+

## âœ¨ å¼€å‘å‘½ä»¤

```bash
# å¼€å‘æ¨¡å¼
npm run dev

# ç”Ÿäº§æ„å»º
npm run build

# ç”Ÿäº§å¯åŠ¨
npm run start  

# ä»£ç æ£€æŸ¥
npm run lint

# ç±»å‹æ£€æŸ¥
npx tsc --noEmit
```

## ğŸ”„ æ•…éšœæ’é™¤æµç¨‹

1. **æ£€æŸ¥ä¾èµ–**: `ls node_modules` 
2. **é‡æ–°å®‰è£…**: `rm -rf node_modules && npm install`
3. **æ¸…ç†ç¼“å­˜**: `npm cache clean --force`
4. **æ£€æŸ¥ç«¯å£**: `lsof -i:3000`
5. **æŸ¥çœ‹æ—¥å¿—**: `npm run dev` æŸ¥çœ‹å…·ä½“é”™è¯¯ä¿¡æ¯

---

**ğŸ‰ ä¿®å¤å®Œæˆåï¼Œæ‚¨çš„å¼€æºç¤¾ç½‘ç«™å°†åœ¨ http://localhost:3000 è¿è¡Œï¼**

åŒ…å«å®Œæ•´çš„ç°ä»£åŒ–åŠŸèƒ½ï¼š
- ğŸ“± å“åº”å¼è®¾è®¡
- ğŸ—ºï¸ åœ°å›¾å¯è§†åŒ–  
- ğŸ“ CMSå†…å®¹ç®¡ç†
- ğŸ¨ ç°ä»£UIè®¾è®¡
- âš¡ é«˜æ€§èƒ½ä¼˜åŒ–

---
*ä¿®å¤æŒ‡å— - å¼€æºç¤¾ç½‘ç«™é¡¹ç›® 2024*